pipeline {
    agent {
        node ('master')
    }
    stages {
        stage('clear ws'){
            steps{
            cleanWs()
            }
            }
        stage('Git Checkout') {
            steps {
              git branch: 'main', url: 'https://github.com/MenonSreenath/cm130_testing.git'
            }
          }
          stage('read csv') {
            steps {
              script {
              
              library "jenkinsci-unstashParam-library"
                node {
                        def file_in_workspace = unstashParam "products.csv"
                                sh "cat ${file_in_workspace}"
                    }
                  //def fileBase64 = input message: 'Please provide a file', parameters: [base64File('file')]
                  //node {
                    //withEnv(["fileBase64=$fileBase64"]) {
                                             //              sh 'echo $fileBase64 | base64 -d > products.csv'
                   sh 'cat products.csv'
        //}
        //}
        }
        }
        }
        }
        }
            
